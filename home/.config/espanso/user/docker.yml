name: docker
parent: default

# Docker specific command
matches:
  - trigger: ":d--v,"
    replace: "docker --version $|$"

  - trigger: ":d-a,"
    replace: "docker attach $|$  # Exit by C-p C-q "

  - trigger: ":d-b,"
    replace: "docker build -t $|$ ."

  - trigger: ":d-e,"
    replace: "docker exec -it "

  - trigger: ":d-h,"
    replace: "docker history $|$"
    # replace: "docker history {{imageid}}"
    # vars:
    #   - name: imageid
    #     type: echo
    #     params:
    #       echo: "${MY_IMAGE}"

  - trigger: ":d-i,"
    replace: "docker image "

  - trigger: ":d-il,"
    replace: "docker image ls "

  - trigger: ":d-iN,"
    replace: "docker info"

  - trigger: ":d-ib,"
    replace: "docker image build -t $|$ ."

  - trigger: ":d-ii,"
    replace: "docker image inspect $|$"

  - trigger: ":d-it,"
    replace: "docker image tag $|$"
    # Given imageId get all containers, or delete

  - trigger: ":d-iRD,"
    replace: "docker rmi -f $(docker images -f \"dangling=true\" -q)"

  - trigger: ":d-l,"
    replace: "docker logs "

  - trigger: ":d-c,"
    replace: "docker container "

  - trigger: ":d-cl,"
    replace: "docker container ls $|$ -a"

  - trigger: ":d-cl-s,"
    replace: "docker container ls --size"

  - trigger: ":d-cr,"
    replace: "docker container run "

  - trigger: ":d-crM,"
    replace: "docker container rm "

  - trigger: ":d-crM-v,"
    replace: "docker container rm --force --volumes "

  - trigger: ":d-cs,"
    replace: "docker container start "

  - trigger: ":d-cs-a,"
    replace: "docker container start --attach "

  - trigger: ":d-cp,"
    replace: "docker container pause "

  - trigger: ":d-cu,"
    replace: "docker container unpause "

  - trigger: ":d-n,"
    replace: "docker network $|$"

  - trigger: ":d-nl,"
    replace: "docker network ls"

  - trigger: ":d-ps,"
    replace: "docker ps "

  - trigger: ":d-st,"
    replace: "docker start "

  - trigger: ":d-sp,"
    replace: "docker stop "

  - trigger: ":d-pl,"
    replace: "docker pull "

  - trigger: ":d-pr,"
    replace: "docker system prune -fa ??? "

  - trigger: ":d-rD,"
    replace: "docker run --detach $|$   #-d"

  - trigger: ":d-rI,"
    replace: "docker run --it --rm -p "
    # Run throw away container with port prefix

  - trigger: ":d-rs,"
    replace: "docker restart "

  - trigger: ":d-rM-A,"
    replace: "[[ $(docker container ls -aq) ]] && docker rm -f $(docker ps -aq)"
    # replace: "if [[ $(docker container ls -q) ]]; then docker rm -f$|$ $(docker ps -a -q) ;fi"

  - trigger: ":d-rM,"
    replace: "docker rm $|$"

  - trigger: ":d-rM-f,"
    replace: "docker rm -f $|$"

  - trigger: ":d-rMI,"
    replace: "docker rmi "

  - trigger: ":d-sd,"
    replace: "docker system df "

  - trigger: ":d-v,"
    replace: "docker volume "

  - trigger: ":d-vc,"
    replace: "docker volume create "

  - trigger: ":d-vi,"
    replace: "docker volume inspect "

  - trigger: ":d-vl,"
    replace: "docker volume ls "

  - trigger: ":d-vr,"
    replace: "docker volume rm "

  - trigger: ":d-vrM,"
    replace: "docker volume rm "

  - trigger: ":d-vp,"
    replace: "docker volume prune "
